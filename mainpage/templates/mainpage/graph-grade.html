{% load static %}

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<canvas id="barChart"></canvas>
<p><br/><br/></p>
<canvas id="lineChart"></canvas>
<script>
    const ctx1 = document.getElementById('barChart').getContext('2d');
    const barChart = new Chart(ctx1, {
        type: 'bar',
        data: {
            labels: ['2019 Spring', '2019 Fall', '2020 Spring', '2020 Fall',
                '2022 Spring', '2022 Fall', '2023 Spring'],
            datasets: [{
                label: "A+",
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                data: {{ aplus_list }},
            },{
                label: "A",
                backgroundColor:'rgba(255, 206, 86, 0.2)',
                data: {{ azero_list }},
            },{
                label: "B+",
                backgroundColor:'rgba(75, 192, 192, 0.2)',
                data: {{ bplus_list }},
            },{
                label: "B",
                backgroundColor:'rgba(153, 102, 255, 0.2)',
                data: {{ bzero_list }},
            },{
                label: "C+",
                backgroundColor: 'rgba(255, 159, 64, 0.2)',
                data: {{ cplus_list }},
            },{
                label: "P",
                backgroundColor: 'rgba(99,255,64,0.2)',
                data: {{ pass_list }},
            }],

        },
        options: {
            plugins:{
                title: {
                    display: true,
                    text: 'Grade Distribution'
                },
            },
            scales: {
                x: {
                    stacked: true,
                    max: 10,
                    ticks: {
                        stepSize: 2
                    }
                },
                y: {
                    stacked: true,
                    // beginAtZero: true
                }
            },
            indexAxis: 'y',
        },

    });

</script>

<script>
    const ctx2 = document.getElementById('lineChart').getContext('2d');
    const lineChart = new Chart(ctx2, {
        type: 'line',
        data: {
            labels: ['2019 Spring', '2019 Fall', '2020 Spring', '2020 Fall',
                '2022 Spring', '2022 Fall', '2023 Spring'],
            datasets: [{
                label: "Overall GPA",
                backgroundColor: 'rgba(255, 99, 132, 0.2)',
                borderColor: 'rgb(255,99,132)',
                data: {{ overall_data }},
            },{
                label: "Major GPA",
                backgroundColor:'rgba(153, 102, 255, 0.2)',
                borderColor: 'rgb(153,102,255)',
                data: {{ major_data }},
            },],
        },
        options: {
            responsive: true,
            plugins: {
              title: {
                display: true,
                text: 'GPA Chart'
              },
            },
            scales: {
                y: {
                    min: 3.0,
                    max: 4.5,
                    ticks: {
                        stepSize: 0.3
                    }
                },


            }
        },
    });

</script>